<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>매일 성경읽기 달력</title>
  <style>
    body {
      font-family: "맑은 고딕", Malgun Gothic, "돋움", dotum, sans-serif;
      margin: 0;
      padding: 12px;
      background: #f0f4f8;
      color: #333;
    }
    .container {
      max-width: 400px;
      margin: 0 auto;
      background: white;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 3px 12px rgba(0,0,0,0.08);
    }
    h2 {
      text-align: center;
      margin: 0 0 14px;
      color: #2c3e50;
      font-size: 1.05rem;  /* 기존 대비 훨씬 작게 (폰에서 3분의 1 수준) */
      font-weight: 600;
    }
    .header {
      display: flex;
      flex-wrap: nowrap;        /* 무조건 한 줄 유지 */
      gap: 6px;
      margin-bottom: 14px;
      justify-content: space-between;
      align-items: center;
    }
    .header select {
      flex: 1;                  /* 각 드롭다운이 남은 공간 균등 분배 */
      min-width: 0;             /* 너무 좁아지지 않게 */
      font-size: 13px;
      padding: 6px 8px;
    }
    button {
      padding: 6px 12px;
      font-size: 13px;
      background: #3498db;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      white-space: nowrap;
    }
    button:hover { background: #2980b9; }
    .weekdays {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      text-align: center;
      font-weight: bold;
      color: #555;
      margin: 6px 0;
      font-size: 0.85rem;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 3px;
    }
    .cell {
      border: 1px solid #ddd;
      border-radius: 5px;
      background: #fafafa;
      min-height: 48px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      align-items: center;
      padding: 3px;
      cursor: pointer;
    }
    .cell:hover { background: #e8f4fd; }
    .date {
      font-weight: bold;
      font-size: 12px;
      color: #2c3e50;
    }
    .memo {
      font-size: 10px;
      color: #0066cc;
      font-weight: bold;
      background: #e6f2ff;
      width: 100%;
      text-align: center;
      border-radius: 3px;
      padding: 1px 0;
    }
    .footer {
      display: flex;
      flex-wrap: nowrap;        /* 아래쪽도 무조건 한 줄 */
      justify-content: space-between;
      align-items: center;
      margin-top: 14px;
      gap: 6px;
    }
    .footer button {
      flex: 0 0 auto;
      font-size: 13px;
      padding: 6px 12px;
    }
    .bible-version {
      flex: 1;
      text-align: right;
    }
    .bible-version select {
      width: auto;
      min-width: 90px;
      max-width: 140px;
      padding: 5px 20px 5px 6px;
      font-size: 12px;
      border-radius: 6px;
      background: #fff url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='10' viewBox='0 0 12 12'%3E%3Cpolygon points='0,0 12,0 6,12' fill='%23333'/%3E%3C/svg%3E") no-repeat right 6px center;
      background-size: 10px;
      appearance: none;
    }
    .version-info {
      text-align: center;
      font-size: 10px;
      color: #888;
      margin-top: 6px;
    }
    @media (max-width: 480px) {
      .header, .footer {
        gap: 5px;
      }
      .header select, .bible-version select {
        font-size: 11.5px;
        padding: 5px 18px 5px 6px;
      }
      .footer button {
        font-size: 12px;
        padding: 5px 10px;
      }
    }
    .modal {
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.6);
      display: none;
      justify-content: center;
      align-items: center;
      z-index: 1000;
    }
    .modal-content {
      background: white;
      padding: 16px;
      max-width: 90%;
      max-height: 85vh;
      overflow-y: auto;
      border-radius: 10px;
      box-shadow: 0 8px 25px rgba(0,0,0,0.25);
    }
    .close {
      position: absolute;
      top: 8px;
      right: 12px;
      font-size: 26px;
      cursor: pointer;
      color: #aaa;
    }
    .close:hover { color: #333; }
    .chapter-nav, .chapter-nav-bottom {
      display: flex;
      justify-content: space-between;
      margin: 8px 0;
      gap: 6px;
    }
    .chapter-nav button, .chapter-nav-bottom button {
      padding: 6px 12px;
      font-size: 12px;
      min-width: 70px;
      flex: 1;
    }
    #modalTitle {
      font-size: 16px;
      margin: 0;
      text-align: center;
      flex: 1;
      line-height: 1.3;
    }
  </style>
</head>
<body>

<div class="container">
  <h2>매일 성경읽기 달력</h2>

  <div class="header">
    <select id="month">
      <option>1월</option><option>2월</option><option>3월</option><option>4월</option>
      <option>5월</option><option>6월</option><option>7월</option><option>8월</option>
      <option>9월</option><option>10월</option><option>11월</option><option>12월</option>
    </select>
    <select id="book"></select>
    <select id="chapter"></select>
  </div>

  <div class="weekdays">
    <div>일</div><div>월</div><div>화</div><div>수</div><div>목</div><div>금</div><div>토</div>
  </div>

  <div class="grid" id="grid"></div>

  <div class="footer">
    <button id="reset">초기화</button>
    <div class="bible-version">
      <select id="bibleVersion">
        <option value="korNKRV.json" data-name="개역개정판" selected>개역개정판</option>
        <option value="HRVbible.json" data-name="개역한글">개역한글</option>
        <option value="HKJVbible.json" data-name="흠정역">흠정역</option>
        <option value="korNRSV.json" data-name="새번역">새번역</option>
        <option value="korEASY.json" data-name="쉬운성경">쉬운성경</option>
        <option value="korDOB.json" data-name="우리말성경">우리말성경</option>
        <option value="korTKV.json" data-name="현대어">현대어</option>
        <option value="korKLB.json" data-name="현대인">현대인</option>
      </select>
    </div>
  </div>

  <div class="version-info">(2026-02-18) ver 1.8 (8=성경종류)</div>
</div>

<div class="modal" id="modal">
  <div class="modal-content">
    <span class="close" onclick="document.getElementById('modal').style.display='none'">×</span>
    
    <div class="chapter-nav">
      <button id="prevChapterTop" onclick="changeChapter(-1)">◀ 이전</button>
      <h3 id="modalTitle"></h3>
      <button id="nextChapterTop" onclick="changeChapter(1)">다음 ▶</button>
    </div>

    <pre id="modalContent" style="white-space: pre-wrap; font-family: inherit; line-height: 1.6;"></pre>

    <div class="chapter-nav-bottom">
      <button id="prevChapterBottom" onclick="changeChapter(-1)">◀ 이전</button>
      <button id="nextChapterBottom" onclick="changeChapter(1)">다음 ▶</button>
    </div>
  </div>
</div>

<script>
// (기존 스크립트 그대로 유지 - 변경 없음)
// ... (생략 없이 전체 스크립트 코드를 그대로 사용하시면 됩니다)
// 이전 메시지의 <script> 전체를 여기에 붙여넣으시면 완성입니다.
</script>
</body>
</html>
